webpackJsonp([1],{QpC0:function(t,e){},a7Uy:function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=l("woOf"),i=l.n(a),n=l("UgCr"),s=l("caBC"),o=l("3idm"),r=l("s/Rn"),u=l("mRsl"),c=l("Bp23"),d=l("76W+"),p={keyword:null,pageNum:1,pageSize:5,publishStatus:null,collectionStatusValue:null,collectionFunctionValue:null,verifyStatus:null,productSn:null,productCategoryId:null,brandId:null,checked:!0,date1:null,date2:null},h={name:"productList",data:function(){return{expColInfo:{dialogVisible:!1,expColList:[1,2,3,4]},editSkuInfo:{dialogVisible:!1,productId:null,productSn:"",productAttributeCategoryId:null,stockList:[],productAttr:[],keyword:null},expCols:["系统代码","藏品代码","名称","展览说明","藏品等级","当前状况","制造年代","地域","形态特征","独特标记","查询关键字","完残程度","装饰题材","质地","铭文","尺寸(mm)","重量（g）","object_word","入藏日期","保护优先等级","来源","来源单位/个人","藏品所有权单位/个人","备注","当前完残程度","最近更换电池日期","电池更换周期（天）","最近维护日期","维护周期（天）","附加文档","最后修改人","最后修改时间","下次维护日期","下次更换电池日期"],expColsData:[],downloadOptions:[{label:"条码信息",value:"barcodeExp"},{label:"管理信息",value:"manageExp"},{label:"自定义信息",value:"customExp"}],showFlg:!1,showButtonText:"高级查询",operateType:"customExp",listQuery:i()({},p),list:null,total:null,cltlist:null,clttotal:null,listLoading:!0,selectProductCateValue:null,selectCollectionCateValue:null,multipleSelection:[],productCateOptions:[],collectionCateOptions:[],brandOptions:[],collectionStatusOptions:[{value:"10",label:"基本完整"},{value:"20",label:"严重残"},{value:"30",label:"局部缺"},{value:"40",label:"失部件"},{value:"90",label:"报废"}],collectionFunctionOptions:this.$store.state.app.collectionFunctionOptions,publishStatusOptions:[{value:1,label:"上架"},{value:0,label:"下架"}],verifyStatusOptions:[{value:1,label:"审核通过"},{value:0,label:"未审核"}]}},created:function(){this.getList(),this.getBrandList(),this.getProductCateList(),this.getCollectionCateList();for(var t=0;t<this.expCols.length;t++)this.expColsData.push({key:t+1,label:this.expCols[t],disabled:!1})},watch:{selectProductCateValue:function(t){null!=t&&2==t.length?this.listQuery.productCategoryId=t[1]:this.listQuery.productCategoryId=null}},filters:{verifyStatusFilter:function(t){return 1===t?"审核通过":"未审核"},objectLevelFilter:function(t){return 3===t?"一级藏品":4===t?"二级藏品":5===t?"三级藏品":6===t?"四级藏品":"五级藏品"}},methods:{showOrHide:function(){this.showFlg?this.showButtonText="高级查询":this.showButtonText="快速查询",this.showFlg=!this.showFlg},objectFunctionFormater:function(t){for(var e=this.$store.state.app.collectionFunctionOptions,l=0;l<e.length;l++){var a=e[l];if(a.value===t)return a.label}return""},objectCompleteFormater:function(t){for(var e=this.$store.state.app.collectionCompleteOptions,l=0;l<e.length;l++){var a=e[l];return a.value===t?a.label:""}},getProductSkuSp:function(t,e){return 0===e?t.sp1:1===e?t.sp2:t.sp3},getList:function(){var t=this;this.listLoading=!0,Object(n.a)(this.listQuery).then(function(e){t.listLoading=!1,t.list=e.data.list,t.total=e.data.total}),Object(d.b)(this.listQuery).then(function(e){t.listLoading=!1,t.cltlist=e.data.list,t.clttotal=e.data.total})},getBrandList:function(){var t=this;Object(r.a)({pageNum:1,pageSize:100}).then(function(e){t.brandOptions=[];for(var l=e.data.list,a=0;a<l.length;a++)t.brandOptions.push({label:l[a].name,value:l[a].id})})},getCollectionCateList:function(){var t=this;Object(c.a)().then(function(e){var l=e.data;t.collectionCateOptions=[];for(var a=0;a<l.length;a++){var i=[];if(null!=l[a].children&&l[a].children.length>0)for(var n=0;n<l[a].children.length;n++){var s=[];if(null!=l[a].children[n].children&&l[a].children[n].children.length>0)for(var o=0;o<l[a].children[n].children.length;o++)s.push({label:l[a].children[n].children[o].name,value:l[a].children[n].children[o].id});s.length>0?i.push({label:l[a].children[n].name,value:l[a].children[n].id,children:s}):i.push({label:l[a].children[n].name,value:l[a].children[n].id})}t.collectionCateOptions.push({label:l[a].name,value:l[a].id,children:i})}})},getProductCateList:function(){var t=this;Object(u.a)().then(function(e){var l=e.data;t.productCateOptions=[];for(var a=0;a<l.length;a++){var i=[];if(null!=l[a].children&&l[a].children.length>0)for(var n=0;n<l[a].children.length;n++)i.push({label:l[a].children[n].name,value:l[a].children[n].id});t.productCateOptions.push({label:l[a].name,value:l[a].id,children:i})}})},handleShowExpColDialog:function(t,e){"customExp"===this.operateType?this.expColInfo.dialogVisible=!0:this.$message({message:"导出Excle",type:"info",duration:1e3})},handleShowSkuEditDialog:function(t,e){var l=this;this.editSkuInfo.dialogVisible=!0,this.editSkuInfo.productId=e.id,this.editSkuInfo.productSn=e.productSn,this.editSkuInfo.productAttributeCategoryId=e.productAttributeCategoryId,this.editSkuInfo.keyword=null,Object(s.a)(e.id,{keyword:this.editSkuInfo.keyword}).then(function(t){l.editSkuInfo.stockList=t.data}),Object(o.a)(e.productAttributeCategoryId,{type:0}).then(function(t){l.editSkuInfo.productAttr=t.data.list})},handleSearchEditSku:function(){var t=this;Object(s.a)(this.editSkuInfo.productId,{keyword:this.editSkuInfo.keyword}).then(function(e){t.editSkuInfo.stockList=e.data})},handleExpColCustomConfirm:function(){this.$message({message:"导出自定义字段到Excle",type:"info",duration:1e3})},handleEditSkuConfirm:function(){var t=this;null==this.editSkuInfo.stockList||this.editSkuInfo.stockList.length<=0?this.$message({message:"暂无sku信息",type:"warning",duration:1e3}):this.$confirm("是否要进行修改","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(s.b)(t.editSkuInfo.productId,t.editSkuInfo.stockList).then(function(e){t.$message({message:"修改成功",type:"success",duration:1e3}),t.editSkuInfo.dialogVisible=!1})})},handleSearchList:function(){this.listQuery.pageNum=1,this.getList()},handleAddProduct:function(){this.$router.push({path:"/cms/addCollection"})},handleBatchOperate:function(){var t=this;null!=this.operateType?null==this.multipleSelection||this.multipleSelection.length<1?this.$message({message:"请选择要操作的商品",type:"warning",duration:1e3}):this.$confirm("是否要进行该批量操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){for(var e=[],l=0;l<t.multipleSelection.length;l++)e.push(t.multipleSelection[l].id);switch(t.operateType){case t.operates[0].value:t.updatePublishStatus(1,e);break;case t.operates[1].value:t.updatePublishStatus(0,e);break;case t.operates[2].value:t.updateRecommendStatus(1,e);break;case t.operates[3].value:t.updateRecommendStatus(0,e);break;case t.operates[4].value:t.updateNewStatus(1,e);break;case t.operates[5].value:t.updateNewStatus(0,e);break;case t.operates[6].value:break;case t.operates[7].value:t.updateDeleteStatus(1,e)}t.getList()}):this.$message({message:"请选择操作类型",type:"warning",duration:1e3})},handleSizeChange:function(t){this.listQuery.pageNum=1,this.listQuery.pageSize=t,this.getList()},handleCurrentChange:function(t){this.listQuery.pageNum=t,this.getList()},handleSelectionChange:function(t){this.multipleSelection=t},handlePublishStatusChange:function(t,e){var l=[];l.push(e.id),this.updatePublishStatus(e.publishStatus,l)},handleNewStatusChange:function(t,e){var l=[];l.push(e.id),this.updateNewStatus(e.newStatus,l)},handleRecommendStatusChange:function(t,e){var l=[];l.push(e.id),this.updateRecommendStatus(e.recommandStatus,l)},handleResetSearch:function(){this.selectProductCateValue=[],this.selectCollectionCateValue=[],this.listQuery=i()({},p)},handleDelete:function(t,e){var l=this;this.$confirm("是否要进行删除操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=[];t.push(e.id),l.updateDeleteStatus(1,t)})},handleUpdateCollection:function(t,e){this.$router.push({path:"/cms/updateCollection",query:{id:e.id}})},handleUpdateProduct:function(t,e){this.$router.push({path:"/pms/updateProduct",query:{id:e.id}})},handleViewCollection:function(t,e){this.$router.push({path:"/cms/viewCollection",query:{id:e.id}}),console.log("handleShowProduct",e)},handleShowVerifyDetail:function(t,e){console.log("handleShowVerifyDetail",e)},handleShowLog:function(t,e){console.log("handleShowLog",e)},updatePublishStatus:function(t,e){var l=this,a=new URLSearchParams;a.append("ids",e),a.append("publishStatus",t),Object(n.d)(a).then(function(t){l.$message({message:"修改成功",type:"success",duration:1e3})})},updateNewStatus:function(t,e){var l=this,a=new URLSearchParams;a.append("ids",e),a.append("newStatus",t),Object(n.c)(a).then(function(t){l.$message({message:"修改成功",type:"success",duration:1e3})})},updateRecommendStatus:function(t,e){var l=this,a=new URLSearchParams;a.append("ids",e),a.append("recommendStatus",t),Object(n.e)(a).then(function(t){l.$message({message:"修改成功",type:"success",duration:1e3})})},updateDeleteStatus:function(t,e){var l=this,a=new URLSearchParams;a.append("ids",e),a.append("deleteStatus",t),Object(n.b)(a).then(function(t){l.$message({message:"删除成功",type:"success",duration:1e3})}),this.getList()}}},f={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"app-container"},[l("div",{attrs:{id:"target"}}),t._v(" "),l("el-card",{staticClass:"filter-container",attrs:{shadow:"never"}},[l("div",[l("i",{staticClass:"el-icon-search"}),t._v(" "),l("span",[t._v("藏品查询")])]),t._v(" "),l("div",{staticStyle:{"margin-top":"15px"}},[l("el-form",{attrs:{inline:!0,model:t.listQuery,size:"mini","label-width":"140px"}},[l("el-form-item",{attrs:{label:"藏品代码："}},[l("el-input",{staticClass:"input_normal",attrs:{placeholder:""},model:{value:t.listQuery.keyword,callback:function(e){t.$set(t.listQuery,"keyword",e)},expression:"listQuery.keyword"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"藏品名称："}},[l("el-input",{staticClass:"input_normal",attrs:{placeholder:""},model:{value:t.listQuery.productSn,callback:function(e){t.$set(t.listQuery,"productSn",e)},expression:"listQuery.productSn"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"藏品分类："}},[l("el-cascader",{staticStyle:{width:"315px"},attrs:{options:t.collectionCateOptions,"change-on-select":"",clearable:""},model:{value:t.selectCollectionCateValue,callback:function(e){t.selectCollectionCateValue=e},expression:"selectCollectionCateValue"}})],1),t._v(" "),l("br"),t._v(" "),l("el-form-item",{attrs:{label:"藏品所有权："}},[l("el-input",{staticClass:"input_normal",attrs:{placeholder:""},model:{value:t.listQuery.productSn,callback:function(e){t.$set(t.listQuery,"productSn",e)},expression:"listQuery.productSn"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"展览说明："}},[l("el-input",{staticClass:"input_normal",attrs:{placeholder:""},model:{value:t.listQuery.productSn,callback:function(e){t.$set(t.listQuery,"productSn",e)},expression:"listQuery.productSn"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"关键字："}},[l("el-input",{staticStyle:{width:"315px"},attrs:{placeholder:"关键字以逗号分隔"},model:{value:t.listQuery.productSn,callback:function(e){t.$set(t.listQuery,"productSn",e)},expression:"listQuery.productSn"}})],1),t._v(" "),l("br"),t._v(" "),l("el-form-item",{attrs:{label:"最后修改人："}},[l("el-input",{staticClass:"input_normal",attrs:{placeholder:""},model:{value:t.listQuery.productSn,callback:function(e){t.$set(t.listQuery,"productSn",e)},expression:"listQuery.productSn"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"当前状况："}},[l("el-select",{staticClass:"input_normal",attrs:{placeholder:"请选择",clearable:""},model:{value:t.listQuery.collectionFunctionValue,callback:function(e){t.$set(t.listQuery,"collectionFunctionValue",e)},expression:"listQuery.collectionFunctionValue"}},t._l(t.collectionFunctionOptions,function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),l("el-form-item",{attrs:{label:"地域："}},[l("el-input",{staticStyle:{width:"120px"},attrs:{placeholder:""},model:{value:t.listQuery.productSn,callback:function(e){t.$set(t.listQuery,"productSn",e)},expression:"listQuery.productSn"}})],1),t._v(" "),l("el-form-item",{attrs:{"label-width":"60px",label:"年代："}},[l("el-input",{staticStyle:{width:"120px"},attrs:{placeholder:""},model:{value:t.listQuery.productSn,callback:function(e){t.$set(t.listQuery,"productSn",e)},expression:"listQuery.productSn"}})],1),t._v(" "),l("br"),t._v(" "),t.showFlg?l("div",{ref:"showOrHide"},[l("el-form-item",{staticClass:"dateform",attrs:{label:"最后修改日期：","label-width":"140px"}},[l("el-date-picker",{staticClass:"input_date",attrs:{type:"date",placeholder:"yyyy-mm-dd"},model:{value:t.listQuery.date1,callback:function(e){t.$set(t.listQuery,"date1",e)},expression:"listQuery.date1"}}),t._v(" "),l("span",{staticStyle:{"text-align":"center"}},[t._v("~")]),t._v(" "),l("el-date-picker",{staticClass:"input_date",attrs:{type:"date",placeholder:"yyyy-mm-dd"},model:{value:t.listQuery.date2,callback:function(e){t.$set(t.listQuery,"date2",e)},expression:"listQuery.date2"}})],1),t._v(" "),l("el-form-item",{staticClass:"dateform",attrs:{label:"入藏日期：","label-width":"140px"}},[l("el-date-picker",{staticClass:"input_date",attrs:{type:"date",placeholder:"yyyy-mm-dd"},model:{value:t.listQuery.date1,callback:function(e){t.$set(t.listQuery,"date1",e)},expression:"listQuery.date1"}}),t._v(" "),l("span",{staticStyle:{"text-align":"center"}},[t._v("~")]),t._v(" "),l("el-date-picker",{staticClass:"input_date",attrs:{type:"date",placeholder:"yyyy-mm-dd"},model:{value:t.listQuery.date2,callback:function(e){t.$set(t.listQuery,"date2",e)},expression:"listQuery.date2"}})],1),t._v(" "),l("el-form-item",{staticClass:"dateform",attrs:{label:"更换电池日期：","label-width":"140px"}},[l("el-date-picker",{staticClass:"input_date",attrs:{type:"date",placeholder:"yyyy-mm-dd"},model:{value:t.listQuery.date1,callback:function(e){t.$set(t.listQuery,"date1",e)},expression:"listQuery.date1"}}),t._v(" "),l("span",{staticStyle:{"text-align":"center"}},[t._v("~")]),t._v(" "),l("el-date-picker",{staticClass:"input_date",attrs:{type:"date",placeholder:"yyyy-mm-dd"},model:{value:t.listQuery.date2,callback:function(e){t.$set(t.listQuery,"date2",e)},expression:"listQuery.date2"}})],1),t._v(" "),l("el-form-item",{staticClass:"dateform",attrs:{label:"最近维护日期：","label-width":"140px"}},[l("el-date-picker",{staticClass:"input_date",attrs:{type:"date",placeholder:"yyyy-mm-dd"},model:{value:t.listQuery.date1,callback:function(e){t.$set(t.listQuery,"date1",e)},expression:"listQuery.date1"}}),t._v(" "),l("span",{staticStyle:{"text-align":"center"}},[t._v("~")]),t._v(" "),l("el-date-picker",{staticClass:"input_date",attrs:{type:"date",placeholder:"yyyy-mm-dd"},model:{value:t.listQuery.date2,callback:function(e){t.$set(t.listQuery,"date2",e)},expression:"listQuery.date2"}})],1),t._v(" "),l("el-form-item",{staticClass:"dateform",attrs:{label:"下次换电池日期：","label-width":"140px"}},[l("el-date-picker",{staticClass:"input_date",attrs:{type:"date",placeholder:"yyyy-mm-dd"},model:{value:t.listQuery.date1,callback:function(e){t.$set(t.listQuery,"date1",e)},expression:"listQuery.date1"}}),t._v(" "),l("span",{staticStyle:{"text-align":"center"}},[t._v("~")]),t._v(" "),l("el-date-picker",{staticClass:"input_date",attrs:{type:"date",placeholder:"yyyy-mm-dd"},model:{value:t.listQuery.date2,callback:function(e){t.$set(t.listQuery,"date2",e)},expression:"listQuery.date2"}})],1),t._v(" "),l("el-form-item",{staticClass:"dateform",attrs:{label:"下次维护日期：","label-width":"140px"}},[l("el-date-picker",{staticClass:"input_date",attrs:{type:"date",placeholder:"yyyy-mm-dd"},model:{value:t.listQuery.date1,callback:function(e){t.$set(t.listQuery,"date1",e)},expression:"listQuery.date1"}}),t._v(" "),l("span",{staticStyle:{"text-align":"center"}},[t._v("~")]),t._v(" "),l("el-date-picker",{staticClass:"input_date",attrs:{type:"date",placeholder:"yyyy-mm-dd"},model:{value:t.listQuery.date2,callback:function(e){t.$set(t.listQuery,"date2",e)},expression:"listQuery.date2"}})],1),t._v(" "),l("br"),t._v(" "),l("el-form-item",{attrs:{label:"电池更换周期(天)："}},[l("el-input",{staticClass:"input_normal",attrs:{placeholder:""},model:{value:t.listQuery.productSn,callback:function(e){t.$set(t.listQuery,"productSn",e)},expression:"listQuery.productSn"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"维护周期(天)："}},[l("el-input",{staticClass:"input_normal",attrs:{placeholder:""},model:{value:t.listQuery.productSn,callback:function(e){t.$set(t.listQuery,"productSn",e)},expression:"listQuery.productSn"}})],1),t._v(" "),l("br"),t._v(" "),l("el-form-item",{attrs:{label:"藏品级别："}},[l("el-select",{staticClass:"input_normal",attrs:{placeholder:"请选择",clearable:""},model:{value:t.listQuery.productSn,callback:function(e){t.$set(t.listQuery,"productSn",e)},expression:"listQuery.productSn"}},[l("el-option",{attrs:{label:"一级藏品",value:"1"}}),t._v(" "),l("el-option",{attrs:{label:"二级藏品",value:"2"}}),t._v(" "),l("el-option",{attrs:{label:"三级藏品",value:"3"}}),t._v(" "),l("el-option",{attrs:{label:"四级藏品",value:"4"}}),t._v(" "),l("el-option",{attrs:{label:"五级藏品",value:"5"}})],1)],1),t._v(" "),l("el-form-item",{attrs:{label:"完残程度："}},[l("el-select",{staticClass:"input_normal",attrs:{placeholder:"请选择",clearable:""},model:{value:t.listQuery.collectionStatusValue,callback:function(e){t.$set(t.listQuery,"collectionStatusValue",e)},expression:"listQuery.collectionStatusValue"}},t._l(t.collectionStatusOptions,function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),l("el-form-item",{attrs:{label:"尺寸："}},[l("el-input",{staticClass:"input_normal",attrs:{placeholder:""},model:{value:t.listQuery.productSn,callback:function(e){t.$set(t.listQuery,"productSn",e)},expression:"listQuery.productSn"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"重量："}},[l("el-input",{staticClass:"input_normal",attrs:{placeholder:""},model:{value:t.listQuery.productSn,callback:function(e){t.$set(t.listQuery,"productSn",e)},expression:"listQuery.productSn"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"装饰题材："}},[l("el-input",{staticClass:"input_normal",attrs:{placeholder:""},model:{value:t.listQuery.productSn,callback:function(e){t.$set(t.listQuery,"productSn",e)},expression:"listQuery.productSn"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"铭文："}},[l("el-input",{staticClass:"input_normal",attrs:{placeholder:""},model:{value:t.listQuery.productSn,callback:function(e){t.$set(t.listQuery,"productSn",e)},expression:"listQuery.productSn"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"形态特征："}},[l("el-input",{staticClass:"input_normal",attrs:{placeholder:""},model:{value:t.listQuery.productSn,callback:function(e){t.$set(t.listQuery,"productSn",e)},expression:"listQuery.productSn"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"独特标记："}},[l("el-input",{staticClass:"input_normal",attrs:{placeholder:""},model:{value:t.listQuery.productSn,callback:function(e){t.$set(t.listQuery,"productSn",e)},expression:"listQuery.productSn"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"来源："}},[l("el-input",{staticClass:"input_normal",attrs:{placeholder:""},model:{value:t.listQuery.productSn,callback:function(e){t.$set(t.listQuery,"productSn",e)},expression:"listQuery.productSn"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"来源单位/个人："}},[l("el-input",{staticClass:"input_normal",attrs:{placeholder:""},model:{value:t.listQuery.productSn,callback:function(e){t.$set(t.listQuery,"productSn",e)},expression:"listQuery.productSn"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"保护等级："}},[l("el-select",{staticClass:"input_normal",attrs:{placeholder:"请选择",clearable:""},model:{value:t.listQuery.collectionPrcValue,callback:function(e){t.$set(t.listQuery,"collectionPrcValue",e)},expression:"listQuery.collectionPrcValue"}},[l("el-option",{attrs:{label:"已经保护修复",value:"1"}}),t._v(" "),l("el-option",{attrs:{label:"需要保护修复",value:"2"}}),t._v(" "),l("el-option",{attrs:{label:"亟需保护修复",value:"3"}}),t._v(" "),l("el-option",{attrs:{label:"紧急保护修复",value:"4"}})],1)],1),t._v(" "),l("el-form-item",{attrs:{label:"备注："}},[l("el-input",{staticClass:"input_normal",attrs:{placeholder:""},model:{value:t.listQuery.productSn,callback:function(e){t.$set(t.listQuery,"productSn",e)},expression:"listQuery.productSn"}})],1)],1):t._e()],1),t._v(" "),l("br"),t._v(" "),l("el-row",{attrs:{gutter:20,type:"flex",justify:"center"}},[l("el-col",{attrs:{span:6}},[l("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.handleSearchList()}}},[t._v("查询")]),t._v(" "),l("el-button",{attrs:{type:"warning",size:"small"},on:{click:function(e){t.showOrHide()}}},[t._v(t._s(t.showButtonText))]),t._v(" "),l("el-button",{attrs:{size:"small"},on:{click:function(e){t.handleResetSearch()}}},[t._v("重置")])],1)],1)],1)]),t._v(" "),l("el-card",{staticClass:"operate-container",attrs:{shadow:"never"}},[l("i",{staticClass:"el-icon-tickets"}),t._v(" "),l("span",[t._v("藏品列表")]),t._v(" "),l("el-button",{staticClass:"btn-add",attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:function(e){t.handleAddProduct()}}},[t._v("添加藏品")])],1),t._v(" "),l("div",{staticClass:"table-container"},[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"productTable",staticStyle:{width:"100%"},attrs:{data:t.cltlist,border:""},on:{"selection-change":t.handleSelectionChange}},[l("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{label:"系统代码",width:"140",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.id))]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"藏品代码",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.object_id))]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"名称",width:"200",align:"left","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-popover",{attrs:{placement:"right",title:"",trigger:"hover"}},[l("img",{staticStyle:{"max-height":"200px","max-width":"200px"},attrs:{src:"../static/img/Resource/"+e.row.id+"/"+e.row.id+".jpg"}}),t._v(" "),l("span",{attrs:{slot:"reference"},slot:"reference"},[l("font",{attrs:{color:"blue"}},[t._v(t._s(e.row.object_name))])],1)])]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"展览说明",width:"330",align:"left","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",[t._v(t._s(e.row.object_memo))])]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"藏品等级",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("objectLevelFilter")(e.row.object_level)))]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"藏品分类",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",[t._v("机械钟 / 航海钟 / 船钟")])]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"当前状况",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{domProps:{innerHTML:t._s(t.objectFunctionFormater(e.row.object_function))}})]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"制造年代",width:"100",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.object_time))]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"地域",width:"100",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.object_region))]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"尺寸(mm)",width:"100",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.object_size))]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"重量（g）",width:"100",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.object_weight))]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"入藏日期",width:"100",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.object_in_time))]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"藏品所有权单位/个人",width:"160",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.source_ownership))]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"下次更换电池日期",width:"140",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.change_battery_time))]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"下次更换电池日期",width:"140",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.change_battery_time))]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"最后修改人",width:"100",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.last_modify_user))]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"最后修改时间",width:"120",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.last_modify_timedatetime))]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"下次维护日期",width:"150",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.next_maintain_time))]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"下次更换电池日期",width:"150",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.next_change_battery_time))]}}])}),t._v(" "),l("el-table-column",{attrs:{fixed:"right",label:"操作",width:"110",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button-group",[l("el-tooltip",{attrs:{content:"查看详细",placement:"bottom",effect:"light"}},[l("el-button",{attrs:{type:"success",icon:"el-icon-search",size:"mini"},on:{click:function(l){t.handleViewCollection(e.$index,e.row)}}})],1),t._v(" "),l("el-tooltip",{attrs:{content:"编辑藏品",placement:"bottom",effect:"light"}},[l("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(l){t.handleUpdateCollection(e.$index,e.row)}}})],1)],1)]}}])})],1)],1),t._v(" "),l("div",{staticClass:"batch-operate-container"},[l("el-select",{attrs:{size:"small",placeholder:""},model:{value:t.operateType,callback:function(e){t.operateType=e},expression:"operateType"}},t._l(t.downloadOptions,function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),l("el-button",{staticStyle:{"margin-left":"20px"},attrs:{icon:"el-icon-download",type:"success",size:"small"},on:{click:function(e){t.handleShowExpColDialog()}}},[t._v("导出Excel")])],1),t._v(" "),l("div",{staticClass:"pagination-container"},[l("el-pagination",{attrs:{background:"",layout:"total, sizes,prev, pager, next,jumper","page-size":t.listQuery.pageSize,"page-sizes":[5,10,20],"current-page":t.listQuery.pageNum,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.$set(t.listQuery,"pageNum",e)}}})],1),t._v(" "),l("el-dialog",{attrs:{title:"选择导出字段",visible:t.expColInfo.dialogVisible,width:"40%"},on:{"update:visible":function(e){t.$set(t.expColInfo,"dialogVisible",e)}}},[l("div",{staticStyle:{width:"100%","margin-left":"20px"}},[l("el-transfer",{attrs:{titles:["所有列","导出列"],data:t.expColsData},model:{value:t.expColInfo.expColList,callback:function(e){t.$set(t.expColInfo,"expColList",e)},expression:"expColInfo.expColList"}})],1),t._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(e){t.expColInfo.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:t.handleExpColCustomConfirm}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var m=l("VU/8")(h,f,!1,function(t){l("QpC0")},null,null);e.default=m.exports}});